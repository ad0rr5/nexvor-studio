# Data dizini güvenlik ayarları
# JSON dosyalarına sadece uygulama içinden erişim izni ver

# Dizin listelemeyi engelle
Options -Indexes

# Sadece JSON dosyalarına GET isteği ile erişime izin ver
<FilesMatch "\.json$">
    <RequireAll>
        Require method GET
        # Sadece aynı domain'den erişime izin ver (CORS koruması)
        SetEnvIf Origin "^https?://(localhost|127\.0\.0\.1)" CORS=1
        Header always set Access-Control-Allow-Origin "%{CORS}e" env=CORS
    </RequireAll>
</FilesMatch>

# Diğer tüm dosya türlerine erişimi engelle
<FilesMatch "^(?!.*\.json$).*$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Cache control for JSON files
<FilesMatch "\.json$">
    Header set Cache-Control "public, max-age=300"
</FilesMatch>
